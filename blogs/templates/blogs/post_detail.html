{% extends 'base.html' %}
{% load comment_tags %}
{% load crispy_forms_tags %}


{% block title %}Post Detail{% endblock %}

{% block content %}
    <div class="container-fluid">
        <div class="row mt-4">
            <div class="col-md-8">
                <h1>{{ post.title }}</h1>
                <p class="text-muted">
                    By {{ post.author|capfirst }}, {{ post.created }}
                    <span class="badge badge-secondary">{{ post.category }}</span>
                </p>
                <p>{{ post.body|linebreaks }}</p>
            </div>
        </div>
        <div class="row mt-4">
            <div class="col-md-8">
                <h5>Comment</h5>
                <form method="post" novalidate>
                  {% csrf_token %}
                  {{ form|crispy }}
                  <button type="submit" class="btn btn-primary">Submit</button>
                </form>
                <hr>
            </div>
        </div>

        <div class="row mt-4 mb-4">
            <div class="col-md-8">
                {% list_comment post %}
            </div>
        </div>

    </div>
{% endblock %}
